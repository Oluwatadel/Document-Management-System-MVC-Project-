@model ICollection<DMSMVC.Models.ViewModels.DepartmentViewModel>
@{
	Layout = "_Layout2";
}
<div class="departments">
	@if(@TempData["Message"] == "successful")
	{
		<p class="alert alert-danger">@TempData["Message"]</p>
	}
	<div class="create">
		<a asp-action="CreateDepartment" asp-controller="Department"><span>Create Departments</span></a>
	</div>

	<div class="board">
		<table width=100%>
			<thead>

			<thead>
				<tr>
					<td hidden>id</td>
					<td>DepartmentName</td>
					<td>Acronym</td>
					<td>Director</td>
					<td>No of Staffs</td>
					<td>No of Doc</td>
					<td></td>
				</tr>
			</thead>
            <tbody>
				@foreach(var department in Model)
					{
						<tr>
							<td hidden>@department.Id</td>
                    
							<td class="people-des">
								<!--Staff number here-->
								<p>@department.DepartmentName</p>
							</td>
							
							<td class="people-des">
								<!--Staff number here-->
								<p>@department.Acronym</p
							</td>
							
							<td class="people-des">
								<!--Staff number here-->
								<p>@department.NameOfHod</p>
							</td>
							 
							<td class="people-des">
								<!--Staff number here-->
								<a asp-route-id="@department.Id" asp-action="DisplayAllStaffsOfDepartment" asp-controller="Department">
									<p>@(department?.Staffs?.Count)
									</p>
								</a>
							</td>
							
							<td class="people-des">
								<!--Staff number here-->
								<p>@department.Documents.Count</p>
							</td>

							<!--Edit Document-->
							<td >
								@* <div >
									<a asp-controller="Department" asp-action="DeleteDepartment" asp-route-acronym="@department.Acronym">
														Delete
									</a>
								</div
								
								<div >
									<a asp-controller="Department" asp-action="EditDepartment" asp-route-acronym="@department.Acronym">
														Edit
									</a>
								</div> *@
								<div >
									<ul class="edit">
										<li class="outer">
											Manage
											<ul class="inner">
												<li><a asp-action ="UpdateDepartment" asp-controller ="Department" asp-route-id="@department.Id">Edit</a></li>
												<li>
													<a asp-action="Delete" asp-controller="Department" asp-route-id="@department.Id">
														Delete
													</a>
												</li>
											</ul>
										</li>
									</ul>
								</div>
							</td>
						</tr>
					}
				</tbody>
		</table>
	</div>
</div>

 
